{"ast":null,"code":"import React,{useState,useEffect,useRef}from\"react\";//import Stack from 'Stack';\n/*global chrome*/export default function Test2(){var title=useRef(null);var tab_title=useRef('');var list=[];function result(array){console.log(\"is result an array\",array);console.log(\"is first item a node\",array[0]);findprice(array[0]);}/*result is body element node i think ```o_o```*/function findprice(node){//node.setAttribute('visited', true);\n//console.log(\"node's visited\", node.getAttribute('visited'));\nif(node.nodeType===3&&node.nodeValue.includes('$')){list.append(node);title.current.innerHTML=title+node.nodeValue;console.log(list.length);}console.log('1');if(node.hasChildNodes()){var children=node.childNodes;for(var i=0;i<children.length;i++){findprice(children[i]);}}// if (node.childNodes.length === 0){\n//     node.childNodes.forEach(element => {\n//         findprice(element);    \n//     });  \n// }\n}function getDOM(){findprice(document);return list;}chrome.tabs.query({active:true},function(tabs){var tab=tabs[0];list=[];//tab_title.current = tab.title;\n//hmm getting the body node\nchrome.tabs.executeScript(tab.id,{code:'('+getDOM+')();'},result);});// var tab_title = '';\n// function display_h1 (results){\n//     let h1=results;\n//     document.querySelector(\"#id1\").innerHTML = \"<p>tab title: \" + tab_title + \"</p><p>dom h1: \" + h1 + \"</p>\";\n// }\n// chrome.tabs.query({active: true}, function(tabs) {\n// var tab = tabs[0];\n// tab_title = tab.title;\n// chrome.tabs.executeScript(tab.id, {\n//     code: 'document.querySelector(\"h1\").textContent'\n// }, display_h1);\n// });\nreturn/*#__PURE__*/React.createElement(\"h1\",{ref:title},\"''\");}","map":{"version":3,"sources":["/Users/doanhtran/Downloads/GitHub/tax-calculator/src/components/Test2/Test2.js"],"names":["React","useState","useEffect","useRef","Test2","title","tab_title","list","result","array","console","log","findprice","node","nodeType","nodeValue","includes","append","current","innerHTML","length","hasChildNodes","children","childNodes","i","getDOM","document","chrome","tabs","query","active","tab","executeScript","id","code"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,MAArC,KAAkD,OAAlD,CACA;AACA,iBAEA,cAAe,SAASC,CAAAA,KAAT,EAAiB,CAE5B,GAAMC,CAAAA,KAAK,CAAGF,MAAM,CAAC,IAAD,CAApB,CACA,GAAMG,CAAAA,SAAS,CAAGH,MAAM,CAAC,EAAD,CAAxB,CACA,GAAII,CAAAA,IAAI,CAAG,EAAX,CAGA,QAASC,CAAAA,MAAT,CAAgBC,KAAhB,CAAsB,CAClBC,OAAO,CAACC,GAAR,CAAY,oBAAZ,CAAiCF,KAAjC,EACAC,OAAO,CAACC,GAAR,CAAY,sBAAZ,CAAoCF,KAAK,CAAC,CAAD,CAAzC,EACAG,SAAS,CAACH,KAAK,CAAC,CAAD,CAAN,CAAT,CAEH,CACD,iDACA,QAASG,CAAAA,SAAT,CAAmBC,IAAnB,CAAwB,CACpB;AACA;AACA,GAAIA,IAAI,CAACC,QAAL,GAAkB,CAAlB,EAAuBD,IAAI,CAACE,SAAL,CAAeC,QAAf,CAAwB,GAAxB,CAA3B,CAAyD,CACrDT,IAAI,CAACU,MAAL,CAAYJ,IAAZ,EACAR,KAAK,CAACa,OAAN,CAAcC,SAAd,CAA0Bd,KAAK,CAAGQ,IAAI,CAACE,SAAvC,CACAL,OAAO,CAACC,GAAR,CAAYJ,IAAI,CAACa,MAAjB,EACH,CACDV,OAAO,CAACC,GAAR,CAAY,GAAZ,EACA,GAAIE,IAAI,CAACQ,aAAL,EAAJ,CAAyB,CAErB,GAAIC,CAAAA,QAAQ,CAAGT,IAAI,CAACU,UAApB,CACA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGF,QAAQ,CAACF,MAA7B,CAAqCI,CAAC,EAAtC,CAAyC,CAErCZ,SAAS,CAACU,QAAQ,CAACE,CAAD,CAAT,CAAT,CAEH,CACJ,CAGD;AACA;AACA;AACA;AACA;AACH,CAGD,QAASC,CAAAA,MAAT,EAAiB,CACbb,SAAS,CAACc,QAAD,CAAT,CACA,MAAOnB,CAAAA,IAAP,CACH,CACDoB,MAAM,CAACC,IAAP,CAAYC,KAAZ,CAAkB,CAACC,MAAM,CAAE,IAAT,CAAlB,CAAkC,SAASF,IAAT,CAAe,CAC7C,GAAIG,CAAAA,GAAG,CAAGH,IAAI,CAAC,CAAD,CAAd,CACArB,IAAI,CAAG,EAAP,CACA;AAEA;AACAoB,MAAM,CAACC,IAAP,CAAYI,aAAZ,CAA0BD,GAAG,CAACE,EAA9B,CAAkC,CAClCC,IAAI,CAAE,IAAMT,MAAN,CAAe,MADa,CAAlC,CAEGjB,MAFH,EAGH,CATD,EAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,mBACA,0BAAI,GAAG,CAAIH,KAAX,OADA,CAGH","sourcesContent":["import React, { useState, useEffect, useRef} from \"react\";\n//import Stack from 'Stack';\n/*global chrome*/\n\nexport default function Test2 (){\n\n    const title = useRef(null)\n    const tab_title = useRef('')\n    var list = []\n\n\n    function result(array){\n        console.log(\"is result an array\",array);\n        console.log(\"is first item a node\", array[0]);\n        findprice(array[0]);\n    \n    }\n    /*result is body element node i think ```o_o```*/\n    function findprice(node){\n        //node.setAttribute('visited', true);\n        //console.log(\"node's visited\", node.getAttribute('visited'));\n        if (node.nodeType === 3 && node.nodeValue.includes('$')) {\n            list.append(node);\n            title.current.innerHTML = title + node.nodeValue;\n            console.log(list.length);\n        }\n        console.log('1');\n        if (node.hasChildNodes()){\n            \n            let children = node.childNodes;  \n            for (let i = 0; i < children.length; i++){\n                \n                findprice(children[i]);\n\n            }      \n        }\n        \n        \n        // if (node.childNodes.length === 0){\n        //     node.childNodes.forEach(element => {\n        //         findprice(element);    \n        //     });  \n        // }\n    }\n\n    \n    function getDOM(){\n        findprice(document);\n        return list;\n    }\n    chrome.tabs.query({active: true}, function(tabs) {\n        var tab = tabs[0];\n        list = [];\n        //tab_title.current = tab.title;\n\n        //hmm getting the body node\n        chrome.tabs.executeScript(tab.id, {\n        code: '(' + getDOM + ')();'\n        }, result);\n    });\n    \n\n    \n    // var tab_title = '';\n    // function display_h1 (results){\n    //     let h1=results;\n    //     document.querySelector(\"#id1\").innerHTML = \"<p>tab title: \" + tab_title + \"</p><p>dom h1: \" + h1 + \"</p>\";\n    // }\n    // chrome.tabs.query({active: true}, function(tabs) {\n    // var tab = tabs[0];\n    // tab_title = tab.title;\n    // chrome.tabs.executeScript(tab.id, {\n    //     code: 'document.querySelector(\"h1\").textContent'\n    // }, display_h1);\n    // });\n\n    return(\n    <h1 ref = {title} >''</h1>\n    )\n}"]},"metadata":{},"sourceType":"module"}