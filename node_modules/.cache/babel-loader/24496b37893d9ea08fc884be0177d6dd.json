{"ast":null,"code":"import _slicedToArray from\"/Users/doanhtran/Downloads/GitHub/tax-calculator/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/*global chrome*/import React,{useEffect,useState,useRef}from'react';import ReactDOM,{findDOMNode}from'react-dom';import\"./content.css\";import Frame,{FrameContextConsumer}from'react-frame-component';var PRICE='price';var COORDS='coords';function Tax(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),tax=_useState2[0],setTax=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),price=_useState4[0],setPrice=_useState4[1];//const [whitelist, setWhiteList] = useState(true);\n// const [x, setX] = useState(0)\n// const [y, setY] = useState(0)\n//const pricetag = useRef(null);\nvar windowSize=useRef(window.innerHeight);var timer;var url='URL';var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),urlList=_useState6[0],setUrlList=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),currUrl=_useState8[0],setCurrUrl=_useState8[1];console.log(\"running content.js\");chrome.storage.sync.get('currentTax',function(result){if(result.currentTax!==undefined){setTax(parseFloat(result.currentTax.rate)+1);getDOM(parseFloat(result.currentTax.rate)+1);}});chrome.extension.onMessage.addListener(function(request,sender,sendResponse){console.log('received some info');console.log(\"tax type\",typeof request.tax);if(request.type===PRICE&&typeof request.tax===\"number\"){setTax(request.tax);if(request.whitelist){console.log(\"tax rate\",request.tax);getDOM(request.tax);}}console.log('received some urls');console.log('type: ',request.type);});document.addEventListener('scroll',handleScroll);function handleScroll(event){if(timer){clearTimeout(timer);}timer=setTimeout(function(){getDOM(tax);},200);}// document.addEventListener('mousemove', updateDOM);\n// function updateDOM(event){\n//     console.log(\"current position\", event.pageY);\n//     console.log(\"window size: \", windowSize.current);\n//     if(event.pageY > windowSize.current){\n//         getDOM(tax);\n//         windowSize.current = windowSize.current + window.innerHeight;\n//     }\n// }\n// useEffect(()=>{\n//     var e = document.event;\n//     if(e.pageY > windowSize.current){\n//         getDOM(tax);\n//         windowSize.current = windowSize.current + document.clientHeight;\n//     }\n// })\n// document.addEventListener('click', saveMousePos);\n// function saveMousePos(event) {\n//     setX(event.clientX)\n//     setY(event.clientY)\n//     console.log(event.clientX)\n//     console.log(event.clientY)\n// }\nfunction getDOM(tax){//var list = []\nfunction findDollarSign(node){if(node.nodeType===3){var dollarIndex=node.nodeValue.indexOf('$');if(dollarIndex!==-1){//list.append(node);\nvar parentEl=node.parentElement;var classname=parentEl.className;var _price=findPrice(node.nodeValue.slice(dollarIndex+1),tax);var original=node.nodeValue;parentEl.addEventListener('mouseenter',function(event){if(_price!==null){setPrice('$'+_price);//pricetag.current.style.display = \"block\";\napp.style.display=\"block\";}});parentEl.addEventListener('mouseleave',function(event){//pricetag.current.style.display = \"none\";\napp.style.display=\"none\";setPrice();});list.push(classname);// console.log(list);\n// console.log('$ node');\n// console.log (\"classname: \", classname);\n}}//console.log('no $');\nif(node.hasChildNodes()){var children=node.childNodes;for(var i=0;i<children.length;i++){findDollarSign(children[i]);}}}/* Find value after the dollar sign and multiply by tax. Returns null if there is no price \n        after the dollar sign.\n        Parameters: \n        text is text after the dollar sign\n        tax is the tax rate (e.g 1.08)\n        Precondition: text is a string */function findPrice(text,tax){var price='';for(var i=0;i<text.length;i++){var ascii=text.charCodeAt(i);if(ascii===32||ascii===44||ascii===46||48<=ascii&&ascii<=57){if(ascii!==44)price=price+text.substr(i,1);}else{break;}}var value=parseFloat(price)*tax;//console.log(\"price:\", value);\nif(isNaN(price))return null;var whole=Math.floor(value).toString();//console.log(\"whole:\", whole);\nvar dec=(value-whole).toFixed(2).toString().slice(1);//console.log(\"dec:\", dec);\nprice=commatize(whole)+dec;return price;}function commatize(price){if(price.length<4){return price;}var lastThree=price.slice(-3);var begin=commatize(price.slice(0,-3));return begin+','+lastThree;}var list=[];findDollarSign(document);return list;}return/*#__PURE__*/React.createElement(Frame,{head:[/*#__PURE__*/React.createElement(\"link\",{type:\"text/css\",rel:\"stylesheet\",href:chrome.runtime.getURL(\"/static/css/content.css\")})]},/*#__PURE__*/React.createElement(FrameContextConsumer,null,function(_ref){var document=_ref.document,window=_ref.window;return/*#__PURE__*/React.createElement(\"div\",{className:\"my-extension\"},/*#__PURE__*/React.createElement(\"h1\",null,price));}));}var app=document.createElement('div');app.id=\"my-extension-root\";document.body.appendChild(app);ReactDOM.render(/*#__PURE__*/React.createElement(Tax,null),app);app.style.display=\"none\";document.addEventListener('mousemove',saveMousePos);function saveMousePos(event){// console.log(event.pageX)\n// console.log(event.pageY)\nvar app=document.getElementById(\"my-extension-root\");app.style.position=\"absolute\";app.style.left=event.pageX+'px';app.style.top=event.pageY+'px';}/* <Frame head={[<link type=\"text/css\" rel=\"stylesheet\" href={chrome.runtime.getURL(\"/static/css/content.css\")} ></link>]}> \n            <FrameContextConsumer>\n            \n                \n            </FrameContextConsumer>\n        </Frame> */ // {\n//     // Callback is invoked with iframe's window and document instances\n//         //({document, window}) => {\n//             // Render Children\n//         //}\n//     }","map":{"version":3,"sources":["/Users/doanhtran/Downloads/GitHub/tax-calculator/src/content.js"],"names":["React","useEffect","useState","useRef","ReactDOM","findDOMNode","Frame","FrameContextConsumer","PRICE","COORDS","Tax","tax","setTax","price","setPrice","windowSize","window","innerHeight","timer","url","urlList","setUrlList","currUrl","setCurrUrl","console","log","chrome","storage","sync","get","result","currentTax","undefined","parseFloat","rate","getDOM","extension","onMessage","addListener","request","sender","sendResponse","type","whitelist","document","addEventListener","handleScroll","event","clearTimeout","setTimeout","findDollarSign","node","nodeType","dollarIndex","nodeValue","indexOf","parentEl","parentElement","classname","className","findPrice","slice","original","app","style","display","list","push","hasChildNodes","children","childNodes","i","length","text","ascii","charCodeAt","substr","value","isNaN","whole","Math","floor","toString","dec","toFixed","commatize","lastThree","begin","runtime","getURL","createElement","id","body","appendChild","render","saveMousePos","getElementById","position","left","pageX","top","pageY"],"mappings":"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","sourcesContent":[" /*global chrome*/\nimport React, {useEffect, useState, useRef} from 'react'; \nimport ReactDOM, { findDOMNode } from 'react-dom';\nimport \"./content.css\";\nimport Frame, { FrameContextConsumer }from 'react-frame-component';\n\nvar PRICE = 'price';\nvar COORDS = 'coords';\n\nfunction Tax() {\n\n    const [tax, setTax] = useState();\n    const [price, setPrice] = useState();\n    //const [whitelist, setWhiteList] = useState(true);\n    // const [x, setX] = useState(0)\n    // const [y, setY] = useState(0)\n    //const pricetag = useRef(null);\n    const windowSize = useRef(window.innerHeight);\n    var timer;\n    var url = 'URL';\n    const [urlList, setUrlList] = useState({})\n    const [currUrl, setCurrUrl] = useState(null);\n\n\n    console.log(\"running content.js\")\n    \n    chrome.storage.sync.get('currentTax', function(result) {\n        if (result.currentTax!==undefined){\n            setTax(parseFloat(result.currentTax.rate)+1);\n            getDOM(parseFloat(result.currentTax.rate)+1);\n        }\n    })\n\n\n    chrome.extension.onMessage.addListener(\n        function(request, sender, sendResponse) {\n            console.log('received some info');\n            console.log(\"tax type\",typeof(request.tax))\n            if (request.type === PRICE && typeof(request.tax) === \"number\") {\n                setTax(request.tax);\n                if (request.whitelist){\n                    console.log(\"tax rate\", request.tax);\n                    getDOM(request.tax)\n                }\n            }\n\n            console.log('received some urls');\n            console.log('type: ', request.type);\n\n        }\n    );\n\n    \n    document.addEventListener('scroll', handleScroll);\n    function handleScroll(event){\n        if (timer){\n            clearTimeout(timer);\n        }\n        timer = setTimeout( function(){\n            getDOM(tax);\n        }, 200);\n    }\n\n\n    \n    // document.addEventListener('mousemove', updateDOM);\n\n    // function updateDOM(event){\n    //     console.log(\"current position\", event.pageY);\n    //     console.log(\"window size: \", windowSize.current);\n    //     if(event.pageY > windowSize.current){\n            \n    //         getDOM(tax);\n    //         windowSize.current = windowSize.current + window.innerHeight;\n    //     }\n    // }\n\n    // useEffect(()=>{\n    //     var e = document.event;\n    //     if(e.pageY > windowSize.current){\n    //         getDOM(tax);\n    //         windowSize.current = windowSize.current + document.clientHeight;\n    //     }\n    // })\n\n    // document.addEventListener('click', saveMousePos);\n\n    // function saveMousePos(event) {\n    //     setX(event.clientX)\n    //     setY(event.clientY)\n    //     console.log(event.clientX)\n    //     console.log(event.clientY)\n    // }\n\n    function getDOM(tax){\n        //var list = []\n\n        function findDollarSign(node){\n            if (node.nodeType === 3){\n                const dollarIndex = node.nodeValue.indexOf('$')\n                if(dollarIndex !== -1 ) {\n                \n                    //list.append(node);\n                    const parentEl = node.parentElement\n                    const classname = parentEl.className;\n\n                    const price = findPrice(node.nodeValue.slice(dollarIndex+1), tax)\n\n                    const original = node.nodeValue;\n                    parentEl.addEventListener('mouseenter', event => {\n                        if (price !== null){\n                            setPrice('$' + price);\n                            //pricetag.current.style.display = \"block\";\n                            app.style.display = \"block\";\n                        }\n                    })\n                    parentEl.addEventListener('mouseleave', event =>{\n                        //pricetag.current.style.display = \"none\";\n                        app.style.display = \"none\";\n                        setPrice();\n                    })\n                    list.push(classname);\n                    // console.log(list);\n                    // console.log('$ node');\n                    // console.log (\"classname: \", classname);\n                }\n            }\n            //console.log('no $');\n            if (node.hasChildNodes()){\n                let children = node.childNodes;  \n                for (let i = 0; i < children.length; i++){\n                    findDollarSign(children[i]);\n                }      \n            }\n        }\n       \n\n        /* Find value after the dollar sign and multiply by tax. Returns null if there is no price \n        after the dollar sign.\n        Parameters: \n        text is text after the dollar sign\n        tax is the tax rate (e.g 1.08)\n        Precondition: text is a string */\n        function findPrice(text, tax){\n            let price = '';\n            for(let i = 0; i<text.length; i++){\n                let ascii = text.charCodeAt(i);\n                if (ascii === 32 || ascii === 44 || ascii === 46 || (48 <= ascii && ascii <= 57)){\n                    if (ascii !== 44) price = price + text.substr(i,1);\n                }\n                else{\n                    break;\n                }\n            }\n\n            let value = (parseFloat(price) * tax);\n            //console.log(\"price:\", value);\n\n            if(isNaN(price)) return null;\n\n            \n\n            const whole = Math.floor(value).toString();\n            //console.log(\"whole:\", whole);\n            const dec = (value - whole).toFixed(2).toString().slice(1);\n            //console.log(\"dec:\", dec);\n            price = commatize(whole) + dec;\n\n            return price;\n        }\n\n\n        function commatize(price){\n            if(price.length<4){\n                return price;\n            }\n            let lastThree = price.slice(-3);\n            let begin = commatize(price.slice(0,-3));\n            return begin + ',' + lastThree;\n        }\n\n\n\n        var list =[];\n\n        findDollarSign(document);\n        return list;\n    }\n\n    \n\n    \n\n    return (\n        <Frame head={[<link type=\"text/css\" rel=\"stylesheet\" href={chrome.runtime.getURL(\"/static/css/content.css\")} ></link>]}> \n            <FrameContextConsumer>\n                {\n                    ({document, window}) => {\n                        return(\n                            <div className='my-extension'>\n                                <h1>{price}</h1>\n                            </div>\n                        )\n                    }\n                }\n            \n                \n            </FrameContextConsumer>\n        </Frame>\n\n        \n        \n    )\n\n}\n\nconst app = document.createElement('div');\napp.id = \"my-extension-root\";\ndocument.body.appendChild(app);\nReactDOM.render(<Tax/>, app);\napp.style.display = \"none\";\n\ndocument.addEventListener('mousemove', saveMousePos);\n\nfunction saveMousePos(event) {\n    // console.log(event.pageX)\n    // console.log(event.pageY)\n    var app = document.getElementById(\"my-extension-root\");\n    app.style.position = \"absolute\";\n    app.style.left = event.pageX+'px';\n    app.style.top = event.pageY+'px';\n}\n\n\n/* <Frame head={[<link type=\"text/css\" rel=\"stylesheet\" href={chrome.runtime.getURL(\"/static/css/content.css\")} ></link>]}> \n            <FrameContextConsumer>\n            \n                \n            </FrameContextConsumer>\n        </Frame> */\n\n// {\n//     // Callback is invoked with iframe's window and document instances\n//         //({document, window}) => {\n//             // Render Children\n            \n           \n            \n//         //}\n//     }"]},"metadata":{},"sourceType":"module"}