{"ast":null,"code":"import _slicedToArray from\"/Users/doanhtran/Downloads/GitHub/tax-calculator/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/*global chrome*/import React,{useEffect,useState}from'react';import ReactDOM from'react-dom';import\"./content.css\";function Tax(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),price=_useState2[0],setPrice=_useState2[1];useEffect(function(){chrome.extension.onMessage.addListener(function(request,sender,sendResponse){console.log('received some info');setPrice(request.price);});});function getDOM(){//var list = []\nfunction findprice(node){if(node.nodeType===3&&node.nodeValue.includes('$')){//list.append(node);\nvar parentEl=node.parentElement;var classname=parentEl.className;var original=node.nodeValue;parentEl.addEventListener('mouseenter',function(event){node.nodeValue='hello';});parentEl.addEventListener('mouseleave',function(event){node.nodeValue=original;});list.push(classname);console.log(list);console.log('$ node');console.log(\"classname: \",classname);}console.log('no $');if(node.hasChildNodes()){var children=node.childNodes;for(var i=0;i<children.length;i++){findprice(children[i]);}}}var list=[];findprice(document);return list;}function printresult(array){console.log(array[0]);}chrome.tabs.query({active:true},function(tabs){var tab=tabs[0];//tab_title.current = tab.title;\n//hmm getting the body node\nchrome.tabs.executeScript(tab.id,{code:'('+getDOM+')()'},printresult);});return/*#__PURE__*/React.createElement(\"div\",{className:\"my-extension\"},/*#__PURE__*/React.createElement(\"h1\",null,\"This is the tax rate: \",price));}var app=document.createElement('div');app.id=\"my-extension-root\";document.body.appendChild(app);ReactDOM.render(/*#__PURE__*/React.createElement(Tax,null),app);","map":{"version":3,"sources":["/Users/doanhtran/Downloads/GitHub/tax-calculator/src/content.js"],"names":["React","useEffect","useState","ReactDOM","Tax","price","setPrice","chrome","extension","onMessage","addListener","request","sender","sendResponse","console","log","getDOM","findprice","node","nodeType","nodeValue","includes","parentEl","parentElement","classname","className","original","addEventListener","event","list","push","hasChildNodes","children","childNodes","i","length","document","printresult","array","tabs","query","active","tab","executeScript","id","code","app","createElement","body","appendChild","render"],"mappings":"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","sourcesContent":[" /*global chrome*/\nimport React, {useEffect, useState} from 'react'; \nimport ReactDOM from 'react-dom';\nimport \"./content.css\";\n\n\nfunction Tax() {\n\n    const [price, setPrice] = useState(0)\n\n    useEffect(() => {\n        chrome.extension.onMessage.addListener(\n            function(request, sender, sendResponse) {\n            console.log('received some info');\n              setPrice(request.price)\n            });\n    })\n\n    function getDOM (){\n        //var list = []\n\n        function findprice(node){\n            \n            if (node.nodeType === 3 && node.nodeValue.includes('$')  ) {\n                //list.append(node);\n                const parentEl = node.parentElement\n                const classname = parentEl.className;\n\n                const original = node.nodeValue;\n                parentEl.addEventListener('mouseenter', event => {\n                    node.nodeValue = 'hello'\n                })\n                parentEl.addEventListener('mouseleave', event =>{\n                    node.nodeValue = original;\n                })\n                list.push(classname);\n                console.log(list);\n                console.log('$ node');\n                console.log (\"classname: \", classname);\n            }\n            console.log('no $');\n            if (node.hasChildNodes()){\n                let children = node.childNodes;  \n                for (let i = 0; i < children.length; i++){\n                    findprice(children[i]);\n                }      \n            }\n        }\n       \n        var list =[];\n\n        findprice(document);\n        return list;\n    }\n \n    function printresult(array){\n        console.log(array[0]);\n    }\n\n    \n    chrome.tabs.query({active: true}, function(tabs) {\n        var tab = tabs[0];\n        //tab_title.current = tab.title;\n\n        //hmm getting the body node\n        chrome.tabs.executeScript(tab.id, {\n            code: '('+getDOM+')()'\n        }, printresult);\n    });\n\n\n    return (\n        <div className='my-extension'>\n            <h1>This is the tax rate: {price}</h1>\n        </div>\n    )\n\n}\n\nconst app = document.createElement('div');\napp.id = \"my-extension-root\";\ndocument.body.appendChild(app);\nReactDOM.render(<Tax />, app);"]},"metadata":{},"sourceType":"module"}