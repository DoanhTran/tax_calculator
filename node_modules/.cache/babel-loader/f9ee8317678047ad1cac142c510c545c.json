{"ast":null,"code":"var _jsxFileName = \"/Users/doanhtran/Downloads/GitHub/tax-calculator/src/components/Test2/Test2.js\";\nimport React, { useState, useEffect, useRef } from \"react\"; //import Stack from 'Stack';\n\n/*global chrome*/\n\nexport default function Test2() {\n  const title = useRef(null);\n  const tab_title = useRef('');\n  var list = [];\n\n  function result(array) {\n    console.log(array[0].toString());\n  } // }\n\n  /*result is body element node i think ```o_o```*/\n  // function findprice(node){\n  //     //node.setAttribute('visited', true);\n  //     //console.log(\"node's visited\", node.getAttribute('visited'));\n  //     if (node.nodeType === 3 && node.nodeValue.includes('$')) {\n  //         list.append(node);\n  //         title.current.innerHTML = title + node.nodeValue;\n  //         console.log(list.length);\n  //     }\n  //     console.log('1');\n  //     if (node.hasChildNodes()){\n  //         let children = node.childNodes;  \n  //         for (let i = 0; i < children.length; i++){\n  //             findprice(children[i]);\n  //         }      \n  //     }\n  // if (node.childNodes.length === 0){\n  //     node.childNodes.forEach(element => {\n  //         findprice(element);    \n  //     });  \n  // }\n\n}\n\nfunction getDOM() {\n  var list = [];\n\n  function findprice(node) {\n    if (node.nodeType === 3 && node.nodeValue.includes('$')) {\n      list.append(node);\n      node.nodeValue = 'hello';\n    }\n\n    if (node.hasChildNodes()) {\n      let children = node.childNodes;\n\n      for (let i = 0; i < children.length; i++) {\n        findprice(children[i]);\n      }\n    }\n\n    findprice(document);\n    return {\n      list\n    };\n  }\n\n  chrome.tabs.query({\n    active: true\n  }, function (tabs) {\n    var tab = tabs[0];\n    list = []; //tab_title.current = tab.title;\n    //hmm getting the body node\n\n    chrome.tabs.executeScript(tab.id, {\n      code: '(' + getDOM + ')()'\n    });\n  }); // var tab_title = '';\n  // function display_h1 (results){\n  //     let h1=results;\n  //     document.querySelector(\"#id1\").innerHTML = \"<p>tab title: \" + tab_title + \"</p><p>dom h1: \" + h1 + \"</p>\";\n  // }\n  // chrome.tabs.query({active: true}, function(tabs) {\n  // var tab = tabs[0];\n  // tab_title = tab.title;\n  // chrome.tabs.executeScript(tab.id, {\n  //     code: 'document.querySelector(\"h1\").textContent'\n  // }, display_h1);\n  // });\n\n  return /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }\n  }, \"hello\");\n}","map":{"version":3,"sources":["/Users/doanhtran/Downloads/GitHub/tax-calculator/src/components/Test2/Test2.js"],"names":["React","useState","useEffect","useRef","Test2","title","tab_title","list","result","array","console","log","toString","getDOM","findprice","node","nodeType","nodeValue","includes","append","hasChildNodes","children","childNodes","i","length","document","chrome","tabs","query","active","tab","executeScript","id","code"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,QAAkD,OAAlD,C,CACA;;AACA;;AAEA,eAAe,SAASC,KAAT,GAAiB;AAE5B,QAAMC,KAAK,GAAGF,MAAM,CAAC,IAAD,CAApB;AACA,QAAMG,SAAS,GAAGH,MAAM,CAAC,EAAD,CAAxB;AACA,MAAII,IAAI,GAAG,EAAX;;AAGA,WAASC,MAAT,CAAgBC,KAAhB,EAAsB;AAClBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAAC,CAAD,CAAL,CAASG,QAAT,EAAZ;AACH,GAT2B,CAW5B;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAGI;AACA;AACA;AACA;AACA;;AACH;;AAGD,SAASC,MAAT,GAAkB;AACd,MAAIN,IAAI,GAAG,EAAX;;AAEA,WAASO,SAAT,CAAmBC,IAAnB,EAAwB;AACpB,QAAIA,IAAI,CAACC,QAAL,KAAkB,CAAlB,IAAuBD,IAAI,CAACE,SAAL,CAAeC,QAAf,CAAwB,GAAxB,CAA3B,EAAyD;AACrDX,MAAAA,IAAI,CAACY,MAAL,CAAYJ,IAAZ;AACAA,MAAAA,IAAI,CAACE,SAAL,GAAiB,OAAjB;AACH;;AACD,QAAIF,IAAI,CAACK,aAAL,EAAJ,EAAyB;AACrB,UAAIC,QAAQ,GAAGN,IAAI,CAACO,UAApB;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,QAAQ,CAACG,MAA7B,EAAqCD,CAAC,EAAtC,EAAyC;AACrCT,QAAAA,SAAS,CAACO,QAAQ,CAACE,CAAD,CAAT,CAAT;AAEH;AACJ;;AAELT,IAAAA,SAAS,CAACW,QAAD,CAAT;AACA,WAAO;AAAClB,MAAAA;AAAD,KAAP;AACH;;AAEDmB,EAAAA,MAAM,CAACC,IAAP,CAAYC,KAAZ,CAAkB;AAACC,IAAAA,MAAM,EAAE;AAAT,GAAlB,EAAkC,UAASF,IAAT,EAAe;AAC7C,QAAIG,GAAG,GAAGH,IAAI,CAAC,CAAD,CAAd;AACApB,IAAAA,IAAI,GAAG,EAAP,CAF6C,CAG7C;AAEA;;AACAmB,IAAAA,MAAM,CAACC,IAAP,CAAYI,aAAZ,CAA0BD,GAAG,CAACE,EAA9B,EAAkC;AAC9BC,MAAAA,IAAI,EAAE,MAAIpB,MAAJ,GAAW;AADa,KAAlC;AAGH,GATD,EApBkB,CAiClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADA;AAGH","sourcesContent":["import React, { useState, useEffect, useRef} from \"react\";\n//import Stack from 'Stack';\n/*global chrome*/\n\nexport default function Test2 (){\n\n    const title = useRef(null)\n    const tab_title = useRef('')\n    var list = []\n\n\n    function result(array){\n        console.log(array[0].toString());\n    }\n    \n    // }\n    /*result is body element node i think ```o_o```*/\n    // function findprice(node){\n    //     //node.setAttribute('visited', true);\n    //     //console.log(\"node's visited\", node.getAttribute('visited'));\n    //     if (node.nodeType === 3 && node.nodeValue.includes('$')) {\n    //         list.append(node);\n    //         title.current.innerHTML = title + node.nodeValue;\n    //         console.log(list.length);\n    //     }\n    //     console.log('1');\n    //     if (node.hasChildNodes()){\n            \n    //         let children = node.childNodes;  \n    //         for (let i = 0; i < children.length; i++){\n                \n    //             findprice(children[i]);\n\n    //         }      \n    //     }\n        \n        \n        // if (node.childNodes.length === 0){\n        //     node.childNodes.forEach(element => {\n        //         findprice(element);    \n        //     });  \n        // }\n    }\n\n\n    function getDOM (){\n        var list = []\n\n        function findprice(node){\n            if (node.nodeType === 3 && node.nodeValue.includes('$')) {\n                list.append(node);\n                node.nodeValue = 'hello'\n            }\n            if (node.hasChildNodes()){\n                let children = node.childNodes;  \n                for (let i = 0; i < children.length; i++){\n                    findprice(children[i]);\n    \n                }      \n            }\n\n        findprice(document);\n        return {list};\n    }\n \n    chrome.tabs.query({active: true}, function(tabs) {\n        var tab = tabs[0];\n        list = [];\n        //tab_title.current = tab.title;\n\n        //hmm getting the body node\n        chrome.tabs.executeScript(tab.id, {\n            code: '('+getDOM+')()'\n        });\n    });\n    \n\n    \n    // var tab_title = '';\n    // function display_h1 (results){\n    //     let h1=results;\n    //     document.querySelector(\"#id1\").innerHTML = \"<p>tab title: \" + tab_title + \"</p><p>dom h1: \" + h1 + \"</p>\";\n    // }\n    // chrome.tabs.query({active: true}, function(tabs) {\n    // var tab = tabs[0];\n    // tab_title = tab.title;\n    // chrome.tabs.executeScript(tab.id, {\n    //     code: 'document.querySelector(\"h1\").textContent'\n    // }, display_h1);\n    // });\n\n    return(\n    <h1 >hello</h1>\n    )\n}"]},"metadata":{},"sourceType":"module"}