!function(e){function t(t){for(var r,i,u=t[0],l=t[1],c=t[2],d=0,f=[];d<u.length;d++)i=u[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(s&&s(t);f.length;)f.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,u=1;u<n.length;u++){var l=n[u];0!==o[l]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={2:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var u=this["webpackJsonptax-calculator"]=this["webpackJsonptax-calculator"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var s=l;a.push([15,0]),n()}([,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FrameContextConsumer=t.FrameContext=void 0;var r=n(7);Object.defineProperty(t,"FrameContext",{enumerable:!0,get:function(){return r.FrameContext}}),Object.defineProperty(t,"FrameContextConsumer",{enumerable:!0,get:function(){return r.FrameContextConsumer}});var o,a=n(18),i=(o=a)&&o.__esModule?o:{default:o};t.default=i.default},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FrameContextConsumer=t.FrameContextProvider=t.FrameContext=void 0;var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};var i=void 0,u=void 0;"undefined"!==typeof document&&(i=document),"undefined"!==typeof window&&(u=window);var l=t.FrameContext=a.default.createContext({document:i,window:u}),c=l.Provider,s=l.Consumer;t.FrameContextProvider=c,t.FrameContextConsumer=s},function(e,t,n){e.exports=n(19)()},,,,,,,function(e,t,n){e.exports=n(16)},function(e,t,n){"use strict";n.r(t);var r=n(1),o=n(0),a=n.n(o),i=n(3),u=n.n(i),l=(n(17),n(4)),c=n.n(l);function s(){var e=Object(o.useState)(),t=Object(r.a)(e,2),n=(t[0],t[1]),i=Object(o.useState)(),u=Object(r.a)(i,2),s=u[0],f=u[1],p=(Object(o.useRef)(window.innerHeight),Object(o.useState)({})),h=Object(r.a)(p,2),y=(h[0],h[1],Object(o.useState)(null)),m=Object(r.a)(y,2);m[0],m[1];function v(e){function t(e){var n=null;if(null===e||!e.hasChildNodes())return 3!==e.nodeType||isNaN(parseInt(e.nodeValue))?null:e.nodeValue;for(var r=e.childNodes,o=0;o<r.length;o++){var a=t(r[o]);if(null!==a){n=[r[o],a];break}}return n}return function n(r){if(3===r.nodeType){var o=r.nodeValue.indexOf("$");if(-1!==o){var a,i=function(e,t){for(var n="",r=0;r<e.length;r++){var o=e.charCodeAt(r);if(!(32===o||44===o||46===o||48<=o&&o<=57))break;44!==o&&(n+=e.substr(r,1))}var a=parseFloat(n)*t;if(isNaN(a))return null;var i=Math.floor(a).toString(),u=(a-i).toFixed(2).toString().slice(1);return n=function e(t){if(t.length<4)return t;var n=t.slice(-3);return e(t.slice(0,-3))+","+n}(i)+u}(r.nodeValue.slice(o+1),e);if(null===i){a=r.parentElement.parentElement;var u=t(r.parentElement.nextSibling);if(null!==u)if(-1===u[1].indexOf(".")){u[0].parentElement;var l=t(u[0].parentElement.nextSibling);i=((parseInt(u[1])+l[1]/100)*e).toFixed(2)}else i=(u[1]*e).toFixed(2)}else a=r.parentElement;a.addEventListener("mouseenter",(function(e){null!==i&&(f("$"+i),d.style.display="block")})),a.addEventListener("mouseleave",(function(e){d.style.display="none",f()}))}}if(r.hasChildNodes())for(var c=r.childNodes,s=0;s<c.length;s++)n(c[s])}(document),[]}return chrome.storage.sync.get("currentTax",(function(e){void 0!==e.currentTax&&(n(parseFloat(e.currentTax.rate)+1),v(parseFloat(e.currentTax.rate)+1))})),chrome.extension.onMessage.addListener((function(e,t,r){console.log("received some info"),console.log("tax type",typeof e.tax),"price"===e.type&&"number"===typeof e.tax&&(n(e.tax),e.whitelist&&v(e.tax))})),a.a.createElement(c.a,{head:[a.a.createElement("link",{type:"text/css",rel:"stylesheet",href:chrome.runtime.getURL("/static/css/content.css")})]},a.a.createElement(l.FrameContextConsumer,null,(function(e){e.document,e.window;return a.a.createElement("div",{className:"my-extension"},a.a.createElement("h1",null,s))})))}var d=document.createElement("div");d.id="my-extension-root",document.body.appendChild(d),u.a.render(a.a.createElement(s,null),d),d.style.display="none",document.addEventListener("mousemove",(function(e){var t=document.getElementById("my-extension-root");t.style.position="absolute",t.style.left=e.pageX+"px",t.style.top=e.pageY+"px"}))},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),i=d(a),u=d(n(3)),l=d(n(8)),c=n(7),s=d(n(21));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.handleLoad=function(){r.forceUpdate()},r._isMounted=!1,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0;var e=this.getDoc();e&&"complete"===e.readyState?this.forceUpdate():this.node.addEventListener("load",this.handleLoad)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.node.removeEventListener("load",this.handleLoad)}},{key:"getDoc",value:function(){return this.node?this.node.contentDocument:null}},{key:"getMountTarget",value:function(){var e=this.getDoc();return this.props.mountTarget?e.querySelector(this.props.mountTarget):e.body.children[0]}},{key:"renderFrameContents",value:function(){if(!this._isMounted)return null;var e=this.getDoc();if(!e)return null;var t=this.props.contentDidMount,n=this.props.contentDidUpdate,r=e.defaultView||e.parentView,o=i.default.createElement(s.default,{contentDidMount:t,contentDidUpdate:n},i.default.createElement(c.FrameContextProvider,{value:{document:e,window:r}},i.default.createElement("div",{className:"frame-content"},this.props.children)));e.body.children.length<1&&(e.open("text/html","replace"),e.write(this.props.initialContent),e.close());var a=this.getMountTarget();return[u.default.createPortal(this.props.head,this.getDoc().head),u.default.createPortal(o,a)]}},{key:"render",value:function(){var e=this,t=r({},this.props,{children:void 0});return delete t.head,delete t.initialContent,delete t.mountTarget,delete t.contentDidMount,delete t.contentDidUpdate,i.default.createElement("iframe",r({},t,{ref:function(t){e.node=t}}),this.renderFrameContents())}}]),t}(a.Component);f.propTypes={style:l.default.object,head:l.default.node,initialContent:l.default.string,mountTarget:l.default.string,contentDidMount:l.default.func,contentDidUpdate:l.default.func,children:l.default.oneOfType([l.default.element,l.default.arrayOf(l.default.element)])},f.defaultProps={style:{},head:null,children:void 0,mountTarget:void 0,contentDidMount:function(){},contentDidUpdate:function(){},initialContent:'<!DOCTYPE html><html><head></head><body><div class="frame-root"></div></body></html>'},t.default=f},function(e,t,n){"use strict";var r=n(20);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=(i(o),i(n(8)));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c=function(e){function t(){return u(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.props.contentDidMount()}},{key:"componentDidUpdate",value:function(){this.props.contentDidUpdate()}},{key:"render",value:function(){return o.Children.only(this.props.children)}}]),t}(o.Component);c.propTypes={children:a.default.element.isRequired,contentDidMount:a.default.func.isRequired,contentDidUpdate:a.default.func.isRequired},t.default=c}]);
//# sourceMappingURL=content.js.map