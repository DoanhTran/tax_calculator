!function(e){function t(t){for(var a,l,c=t[0],i=t[1],s=t[2],f=0,p=[];f<c.length;f++)l=c[f],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&p.push(r[l][0]),r[l]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);for(u&&u(t);p.length;)p.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,c=1;c<n.length;c++){var i=n[c];0!==r[i]&&(a=!1)}a&&(o.splice(t--,1),e=l(l.s=n[0]))}return e}var a={},r={1:0},o=[];function l(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=a,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(n,a,function(t){return e[t]}.bind(null,a));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var c=this["webpackJsonptax-calculator"]=this["webpackJsonptax-calculator"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var u=i;o.push([6,0]),n()}([,,function(e,t,n){},,,function(e,t,n){},function(e,t,n){e.exports=n(15)},,,,,function(e,t,n){},,,,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(3),l=n.n(o),c=(n(11),n(2),n(5),n(1));function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function m(e){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return!t||"object"!==m(t)&&"function"!==typeof t?d(e):t}function g(e){return function(){var t,n=f(e);if(p()){var a=f(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return h(this,t)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}var y=function(e){v(n,e);var t=g(n);function n(e){var a;return i(this,n),(a=t.call(this,e)).state={error:null,isLoaded:!1,taxRate:"nodata;",taxRegion:"nodata;"},console.log("display"),a}return u(n,[{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.save!==e.save&&!0===this.props.save){console.log("saveindisplay");var n=this.props.zipcode;this.setState({taxRate:"fetching data",taxRegion:"fetching data"}),fetch("http://0.0.0.0:5000/taxrate/"+n,{methode:"GET"}).then((function(e){return e.json()})).then((function(e){console.log("inresult"),console.log(e),e.error&&console.log("not valid zipcode."),t.setState({isLoaded:!0,taxRate:e.error?e.error:e.data.EstimatedCombinedRate,taxRegion:e.error?e.error:e.data.TaxRegionName})}),(function(e){console.log("inerror"),console.log(e),t.setState({error:!0,isLoaded:!0})}))}}},{key:"render",value:function(){return r.a.createElement("div",{className:"rate-display"},this.state.error?r.a.createElement("p",null,"error: $",this.state.error):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"tax rate: ",this.state.taxRate),r.a.createElement("p",null,"tax regian name:",this.state.taxRegion)))}}]),n}(r.a.Component),E=[{rate:.08,name:"home",region:"Ithaca",zipCode:"14850"},{rate:.09,name:"scl",region:"Ithaca2",zipCode:"12345"}];function O(){var e=r.a.createRef(),t=r.a.createRef(),n=Object(a.useState)(""),o=Object(c.a)(n,2),l=o[0],i=o[1],s=Object(a.useState)(!1),u=Object(c.a)(s,2),f=u[0],p=u[1],m=Object(a.useState)([]),d=Object(c.a)(m,2),h=d[0],g=d[1],b=Object(a.useState)([]),v=Object(c.a)(b,2),O=v[0],S=v[1];Object(a.useEffect)((function(){g(E)}),[]),Object(a.useEffect)((function(){(f||null===f)&&t.current.classList.replace("green-outline","no-outline"),!1===f&&t.current.classList.replace("no-outline","green-outline")}),[f]);var j=Object(a.useState)(),k=Object(c.a)(j,2),x=k[0],N=k[1];Object(a.useEffect)((function(){console.log("setSavedEDit"),S((function(e){return function(){console.log("make html is called");var e=[r.a.createElement("div",{className:"searchUnder"})];return console.log("savedZip"),console.log(h),h.forEach((function(t){if(console.log("element"),console.log(t),console.log(t.zip),t.zip!==l){var n=r.a.createElement("button",{className:"savedOptions",key:t.zip,"data-zip":t.zipCode,"data-region":t.region,"data-rate":t.rate,onClick:function(e){console.log("Oclick"),i(e.currentTarget.attributes.getNamedItem("data-zip").value),p(!0)}},r.a.createElement("span",null,t.name),r.a.createElement("span",null,t.zipCode));e.push(n)}})),e.push(r.a.createElement("button",null,"Add/edit saved zip")),console.log(e),e}()}))}),[h]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:"ziplabel"},"Zipcode: \xa0"),r.a.createElement("div",{className:"multisearch-container green-outline",ref:t},r.a.createElement("div",{className:"searchBar-container normal"},r.a.createElement("input",{ref:e,className:"zip-input",type:"text",maxLength:"6",height:"3",value:l,size:"10",onChange:function(e){var t=function(e){if(e.length>5)return N("shake"),console.log("text is longer than 5 characters"),console.log("animation 1:",x),setTimeout((function(){N(),console.log("animation 2:",x)}),200),e.slice(0,5);return e}(e.currentTarget.value);i(function(e){var t=e.slice(-1).charCodeAt(0);return 48<=t&&t<=57?e:e.slice(0,-1)}(t))},onFocus:function(n){t.current.classList.replace("no-outline","green-outline"),p(!1),n.currentTarget.addEventListener("keyup",(function(t){""!==t.currentTarget.value&&13===t.keyCode&&(console.log(l),p(!0),e.current.blur())}))},onBlur:function(e){p(null),t.current.classList.replace("green-outline","no-outline"),e.currentTarget.removeEventListener("keyup",(function(){}))}}),f||null===f?r.a.createElement("button",{className:"glass-icon glass-grey",onClick:function(t){e.current.focus()}}):r.a.createElement("button",{className:"glass-icon glass-green",onClick:function(e){p(!0)}})),r.a.createElement("div",{className:"search-option-container"},f||null===f?"":O)),r.a.createElement(y,{save:f,zipcode:l}))}var S=function(e){v(n,e);var t=g(n);function n(e){var a;return i(this,n),(a=t.call(this,e)).handleSubmit=a.handleSubmit.bind(d(a)),a.reportIssue=a.reportIssue.bind(d(a)),a.cancelClick=a.cancelClick.bind(d(a)),a.process=r.a.createRef(),a.form=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"process process-invisible",ref:a.process},r.a.createElement("p",null,"processing...")),r.a.createElement("div",{className:"report-form-container"},r.a.createElement("button",{onClick:a.cancelClick},"cancel"),r.a.createElement("h3",null,"Report Issue"),r.a.createElement("form",{className:"report",onSubmit:a.handleSubmit},r.a.createElement("label",{htmlFor:"title"},"topic"),r.a.createElement("input",{name:"title",type:"text"}),r.a.createElement("label",{htmlFor:"email"},"email(optional in case you want to hear back from us)"),r.a.createElement("input",{name:"email",type:"text"}),r.a.createElement("label",{htmlFor:"message"},"Please provide detail"),r.a.createElement("input",{name:"message"}),r.a.createElement("button",{type:"submit"},"Submit")))),a.button=r.a.createElement("div",{className:"report-form-main"},r.a.createElement("div",{className:"informationIcon"}),r.a.createElement("div",{className:"report-text"},r.a.createElement("p",null,"This information if from ......... if it is incorrect or you have experience any issue please",r.a.createElement("button",{id:"report-button",onClick:a.reportIssue},"Report"),"."))),a.state={process:"open"},a}return u(n,[{key:"cancelClick",value:function(e){this.setState({process:"open"})}},{key:"handleSubmit",value:function(e){var t=this;console.log("handle supmit is called"),this.process.current.classList.remove("process-invisible");var n={},a=e.target.elements;Object.assign(n,{title:a.title.value,email:a.email.value,message:a.message.value}),JSON.stringify(n),fetch("http://0.0.0.0:5000/report/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){console.log("inresult"),e.error?(window.alert("sorry something is wrong"),console.log(e.error)):e.data&&(window.alert("Submitted, thank you for your feedback"),console.log(e.data))}),(function(e){console.log("inerror"),console.log(e),t.setState({error:!0,isLoaded:!0})}))}},{key:"reportIssue",value:function(e){this.setState({process:"write"})}},{key:"render",value:function(){return"open"===this.state.process?this.button:"write"===this.state.process?this.form:null}}]),n}(r.a.Component),j=function(e){var t=e.isChecked,n=e.handleToggle,a=e.size;return r.a.createElement("div",{className:"toggle tg-".concat(a)},r.a.createElement("label",{className:"switch tg-lab-".concat(a)},r.a.createElement("input",{type:"checkbox",className:"toggle-checkbox",checked:t,onChange:n}),r.a.createElement("span",{className:"slider tg-".concat(a)})))};var k=function(){return r.a.createElement("div",{className:"grid-container"},r.a.createElement("div",{className:"web-enable-container"},r.a.createElement("label",null,"Use tax calculator on this site?"),r.a.createElement("div",{className:"fill-space"}),r.a.createElement(j,{size:"small"})),r.a.createElement("div",{className:"divider"}),r.a.createElement(O,null),r.a.createElement(S,null))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root"))}]);
//# sourceMappingURL=app.js.map