{"ast":null,"code":"import _classCallCheck from\"/Users/mina/Desktop/tax_calculator/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mina/Desktop/tax_calculator/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/mina/Desktop/tax_calculator/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/Users/mina/Desktop/tax_calculator/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/mina/Desktop/tax_calculator/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import\"../App.css\";var OPEN=\"open\";var FORM=\"write\";var REQUEST=\"request\";var report=\"\";var ReportForm=/*#__PURE__*/function(_React$Component){_inherits(ReportForm,_React$Component);var _super=_createSuper(ReportForm);function ReportForm(props){var _this;_classCallCheck(this,ReportForm);_this=_super.call(this,props);_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.reportIssue=_this.reportIssue.bind(_assertThisInitialized(_this));_this.cancelClick=_this.cancelClick.bind(_assertThisInitialized(_this));_this.process=React.createRef();// this.formToJSON = this.formToJSON.bind(this);\n_this.form=/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"process process-invisible\",ref:_this.process},/*#__PURE__*/React.createElement(\"p\",null,\"processing...\")),/*#__PURE__*/React.createElement(\"div\",{className:\"report-form-container\"},/*#__PURE__*/React.createElement(\"button\",{onClick:_this.cancelClick},\"cancel\"),/*#__PURE__*/React.createElement(\"h3\",null,\"Report Issue\"),/*#__PURE__*/React.createElement(\"form\",{className:\"report\",onSubmit:_this.handleSubmit},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"title\"},\"topic\"),/*#__PURE__*/React.createElement(\"input\",{name:\"title\",type:\"text\"}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"email(optional in case you want to hear back from us)\"),/*#__PURE__*/React.createElement(\"input\",{name:\"email\",type:\"text\"}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"message\"},\"Please provide detail\"),/*#__PURE__*/React.createElement(\"input\",{name:\"message\"}),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"Submit\"))));_this.button=/*#__PURE__*/React.createElement(\"div\",{className:\"report-form-main\"},/*#__PURE__*/React.createElement(\"div\",{className:\"informationIcon\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"report-text\"},/*#__PURE__*/React.createElement(\"p\",null,\"This information if from ......... if it is incorrect or you have experience any issue please\",/*#__PURE__*/React.createElement(\"button\",{id:\"report-button\",onClick:_this.reportIssue},\"Report\"),\".\")));_this.state={process:OPEN};return _this;}_createClass(ReportForm,[{key:\"cancelClick\",value:function cancelClick(event){this.setState({process:OPEN});}},{key:\"handleSubmit\",value:function handleSubmit(event){var _this2=this;console.log(\"handle supmit is called\");this.process.current.classList.remove('process-invisible');var data={};var val=event.target.elements;Object.assign(data,{title:val[\"title\"].value,email:val[\"email\"].value,message:val[\"message\"].value});JSON.stringify(data);fetch(\"http://0.0.0.0:5000/report/\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(data)// headers: { \"Access-Control-Allow-Origin\": \"*\" },\n}).then(function(res){return res.json();}).then(function(result){console.log(\"inresult\");if(result.error){window.alert(\"sorry something is wrong\");console.log(result.error);}else if(result.data){window.alert(\"Submitted, thank you for your feedback\");console.log(result.data);}},function(error){console.log(\"inerror\");console.log(error);_this2.setState({error:true,isLoaded:true});});// .then(this.setState({ process: OPEN }));\n}},{key:\"reportIssue\",value:function reportIssue(event){this.setState({process:FORM});}},{key:\"render\",value:function render(){if(report){console.log(report);}if(this.state.process===OPEN){return this.button;}else if(this.state.process===FORM){return this.form;}else return null;}}]);return ReportForm;}(React.Component);export default ReportForm;/*\nwant json \n{\n    title:\"title\",\n    email:\"email\",\n    message:\"text\"\n\n}\n\n*/","map":{"version":3,"sources":["/Users/mina/Desktop/tax_calculator/src/components/reportForm.js"],"names":["React","OPEN","FORM","REQUEST","report","ReportForm","props","handleSubmit","bind","reportIssue","cancelClick","process","createRef","form","button","state","event","setState","console","log","current","classList","remove","data","val","target","elements","Object","assign","title","value","email","message","JSON","stringify","fetch","method","headers","body","then","res","json","result","error","window","alert","isLoaded","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"../App.css\"\nconst OPEN = \"open\";\nconst FORM = \"write\";\nconst REQUEST = \"request\";\nlet report = \"\";\n\n\nclass ReportForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.reportIssue = this.reportIssue.bind(this);\n    this.cancelClick = this.cancelClick.bind(this);\n    this.process = React.createRef()\n    // this.formToJSON = this.formToJSON.bind(this);\n\n    this.form = (\n      <>\n      <div className=\"process process-invisible\" ref ={this.process}><p>processing...</p></div>\n      <div className=\"report-form-container\">\n        <button onClick={this.cancelClick}>cancel</button>\n\n       <h3>Report Issue</h3>\n      \n      <form className=\"report\" onSubmit={this.handleSubmit}>\n        <label htmlFor=\"title\">topic</label>\n        <input name=\"title\" type=\"text\"></input>\n        <label htmlFor=\"email\">\n          email(optional in case you want to hear back from us)\n        </label>\n        <input name=\"email\" type=\"text\"></input>\n        <label htmlFor=\"message\">Please provide detail</label>\n        <input name=\"message\"></input>\n        <button type=\"submit\">Submit</button>\n      </form>\n      </div>\n      </>\n    );\n\n   \n    this.button = <div className=\"report-form-main\"><div className=\"informationIcon\"></div><div className=\"report-text\"><p>This information if from ......... if it is incorrect\n    or you have experience any issue please<button id=\"report-button\" onClick={this.reportIssue}>Report</button>.</p></div></div>;\n    this.state = { process: OPEN };\n  }\n\n  cancelClick(event){\n    this.setState({process:OPEN})\n  }\n\n  handleSubmit(event) {\n    console.log(\"handle supmit is called\");\n    this.process.current.classList.remove('process-invisible')\n\n    let data = {};\n    const val = event.target.elements;\n    Object.assign(data, {\n      title: val[\"title\"].value,\n      email: val[\"email\"].value,\n      message: val[\"message\"].value,\n    });\n    JSON.stringify(data);\n    fetch(\"http://0.0.0.0:5000/report/\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(data),\n      // headers: { \"Access-Control-Allow-Origin\": \"*\" },\n    })\n      .then((res) => res.json())\n      .then(\n        (result) => {\n          console.log(\"inresult\");\n          if (result.error) {\n            window.alert(\"sorry something is wrong\");\n            console.log(result.error);\n          } else if (result.data) {\n            window.alert(\"Submitted, thank you for your feedback\");\n            console.log(result.data);\n          }\n        },\n        (error) => {\n          console.log(\"inerror\");\n          console.log(error);\n          this.setState({ error: true, isLoaded: true });\n        }\n      )\n      // .then(this.setState({ process: OPEN }));\n  }\n\n  reportIssue(event) {\n    this.setState({ process: FORM });\n  }\n\n  render() {\n    if (report) {\n      console.log(report);\n    }\n\n    if (this.state.process === OPEN) {\n      return this.button;\n    } else if (this.state.process === FORM) {\n      return this.form;\n    }else return null;\n  }\n}\n\nexport default ReportForm;\n/*\nwant json \n{\n    title:\"title\",\n    email:\"email\",\n    message:\"text\"\n\n}\n\n*/\n"]},"metadata":{},"sourceType":"module"}