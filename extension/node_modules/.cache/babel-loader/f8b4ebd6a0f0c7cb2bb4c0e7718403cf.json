{"ast":null,"code":"var _jsxFileName = \"/Users/mina/Desktop/tax_calculator/src/components/displaytax.js\";\nimport React from \"react\";\nconst initial = \"nodata;\";\nconst fetching = \"fetching data\";\n\nclass DisplayTax extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      taxRate: initial,\n      taxRegian: initial\n    };\n    console.log(\"display\");\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.save !== prevProps.save && this.props.save === true) {\n      console.log(\"saveindisplay\");\n      this.setState({\n        taxRate: fetching,\n        taxRegian: fetching\n      });\n      fetch(\"http://0.0.0.0:5000/taxrate/\" + this.props.zipcode).then(res => res.json()).then(result => {\n        this.setState({\n          isLoaded: true,\n          taxRate: result.data.EstimatedCombinedRate,\n          taxRegian: result.data.TaxRegionName\n        });\n      }, error => {\n        this.setState({\n          error: error.error,\n          isLoaded: true\n        });\n      }); // } else if (\n      //   this.props.save !== prevProps.save &&\n      //   this.props.save === false\n      // ) {\n      //     this.setState({ taxRate: fetching, taxRegian: fetching })\n      // }\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 7\n      }\n    }, !this.state.error ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }, \"tax rate: \", this.state.taxRate), /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }\n    }, \"tax regian name:\", this.state.taxRegian)) : /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }\n    }, \"error: $\", this.state.error));\n  }\n\n}\n\nexport default DisplayTax;","map":{"version":3,"sources":["/Users/mina/Desktop/tax_calculator/src/components/displaytax.js"],"names":["React","initial","fetching","DisplayTax","Component","constructor","props","state","error","isLoaded","taxRate","taxRegian","console","log","componentDidUpdate","prevProps","save","setState","fetch","zipcode","then","res","json","result","data","EstimatedCombinedRate","TaxRegionName","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GAAG,SAAhB;AACA,MAAMC,QAAQ,GAAG,eAAjB;;AACA,MAAMC,UAAN,SAAyBH,KAAK,CAACI,SAA/B,CAAyC;AACvCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE,IADI;AAEXC,MAAAA,QAAQ,EAAE,KAFC;AAGXC,MAAAA,OAAO,EAAET,OAHE;AAIXU,MAAAA,SAAS,EAAEV;AAJA,KAAb;AAMAW,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACD;;AAEDC,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAC5B,QAAI,KAAKT,KAAL,CAAWU,IAAX,KAAoBD,SAAS,CAACC,IAA9B,IAAsC,KAAKV,KAAL,CAAWU,IAAX,KAAoB,IAA9D,EAAoE;AAClEJ,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,WAAKI,QAAL,CAAc;AAAEP,QAAAA,OAAO,EAAER,QAAX;AAAqBS,QAAAA,SAAS,EAAET;AAAhC,OAAd;AAEAgB,MAAAA,KAAK,CAAC,iCAAiC,KAAKZ,KAAL,CAAWa,OAA7C,CAAL,CACGC,IADH,CACSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADjB,EAEGF,IAFH,CAGKG,MAAD,IAAY;AACV,aAAKN,QAAL,CAAc;AACZR,UAAAA,QAAQ,EAAE,IADE;AAEZC,UAAAA,OAAO,EAAEa,MAAM,CAACC,IAAP,CAAYC,qBAFT;AAGZd,UAAAA,SAAS,EAAEY,MAAM,CAACC,IAAP,CAAYE;AAHX,SAAd;AAKD,OATL,EAUKlB,KAAD,IAAW;AACT,aAAKS,QAAL,CAAc;AAAET,UAAAA,KAAK,EAAEA,KAAK,CAACA,KAAf;AAAsBC,UAAAA,QAAQ,EAAE;AAAhC,SAAd;AACD,OAZL,EAJkE,CAkBlE;AACA;AACA;AACA;AACA;AAEA;AACD;AACF;;AAEDkB,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,CAAC,KAAKpB,KAAL,CAAWC,KAAZ,gBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAe,KAAKD,KAAL,CAAWG,OAA1B,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAqB,KAAKH,KAAL,CAAWI,SAAhC,CAFF,CADD,gBAMC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAa,KAAKJ,KAAL,CAAWC,KAAxB,CAPJ,CADF;AAYD;;AAtDsC;;AAyDzC,eAAeL,UAAf","sourcesContent":["import React from \"react\";\n\nconst initial = \"nodata;\";\nconst fetching = \"fetching data\";\nclass DisplayTax extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      taxRate: initial,\n      taxRegian: initial,\n    };\n    console.log(\"display\");\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.save !== prevProps.save && this.props.save === true) {\n      console.log(\"saveindisplay\");\n      this.setState({ taxRate: fetching, taxRegian: fetching });\n\n      fetch(\"http://0.0.0.0:5000/taxrate/\" + this.props.zipcode)\n        .then((res) => res.json())\n        .then(\n          (result) => {\n            this.setState({\n              isLoaded: true,\n              taxRate: result.data.EstimatedCombinedRate,\n              taxRegian: result.data.TaxRegionName,\n            });\n          },\n          (error) => {\n            this.setState({ error: error.error, isLoaded: true });\n          }\n        );\n      // } else if (\n      //   this.props.save !== prevProps.save &&\n      //   this.props.save === false\n      // ) {\n      //     this.setState({ taxRate: fetching, taxRegian: fetching })\n\n      // }\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        {!this.state.error ? (\n          <div>\n            <h6>tax rate: {this.state.taxRate}</h6>\n            <h6>tax regian name:{this.state.taxRegian}</h6>\n          </div>\n        ) : (\n          <h6>error: ${this.state.error}</h6>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default DisplayTax;\n"]},"metadata":{},"sourceType":"module"}