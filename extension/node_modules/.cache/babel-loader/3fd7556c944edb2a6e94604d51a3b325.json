{"ast":null,"code":"var _jsxFileName = \"/Users/mina/Desktop/tax_calculator/src/components/inputbox/inputbox2.jsx\";\nimport React, { useState, useEffect, createRef } from \"react\";\nimport \"./inputbox.css\";\nimport DisplayTax from \"../displaytax.js\";\n/*global chrome*/\n//I'm not sure if to use useRef or createRef\n\nconst fakeSavedList = [{\n  rate: 0.08,\n  name: \"home\",\n  region: \"Ithaca\",\n  zipCode: \"14850\"\n}, {\n  rate: 0.09,\n  name: \"scl\",\n  region: \"Ithaca2\",\n  zipCode: \"12345\"\n}];\nexport default function NewInputBox() {\n  const inputBoxRef = React.createRef();\n  const searchContainerRef = React.createRef();\n  const [zipcode, setZipcode] = useState(\"\");\n  const [save, setSave] = useState(false); //   useEffect(() => {\n  //     chrome.storage.sync.get('currentTax', function(result) {\n  //       console.log(\"get dat is called\");\n  //         console.log('Value currently is ' + result.currentTax);\n  //         console.log(result)\n  //         console.log(result.currentTax)\n  //         if (result.currentTax!==undefined){\n  //           setZipcode(result.currentTax.zip);\n  //           setSave(null);\n  //         }\n  //       });\n  //   },[]);\n  // useEffect(()=>{\n  //   if (save){\n  //     input = \n  //   }\n  // },[save])\n\n  const [animation, setAnimation] = useState();\n\n  const handleOnChange = event => {\n    //console.log(\"animation\", animation);\n    const input = event.currentTarget.value;\n    const returnInput = maxFive(input);\n    setZipcode(onlyNum(returnInput));\n  };\n\n  const handleSubmit = event => {\n    setSave(true);\n  };\n\n  const optionClick = event => {\n    //change the textbox to match the saved data\n    setSave(true);\n  };\n\n  function make_htmlList() {\n    console.log(\"make html is called\");\n    let html = [];\n    fakeSavedList.forEach(element => {\n      const savedButt = /*#__PURE__*/React.createElement(\"button\", {\n        className: \"savedOptions\",\n        \"data-zip\": element.zipCode,\n        \"data-region\": element.region,\n        \"data-rate\": element.rate,\n        onClick: optionClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 161\n        }\n      }, element.name), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 188\n        }\n      }, element.zipCode));\n      html.push(savedButt);\n    });\n    return html;\n  }\n\n  const handleFocus = event => {\n    inputBoxRef.current.focus();\n    setSave(false);\n  };\n  /* Extract only numbers out of input box and returns a string of text \n    containing at most 6 numbers\n    Parameter: text is a string\n    Returns a string of only numbers or empty string*/\n\n\n  function onlyNum(text) {\n    let lastChar = text.slice(-1);\n    let ascii = lastChar.charCodeAt(0);\n\n    if (48 <= ascii && ascii <= 57) {\n      return text;\n    } else {\n      return text.slice(0, -1);\n    }\n  }\n\n  function maxFive(text) {\n    if (text.length > 5) {\n      setAnimation(\"shake\");\n      console.log(\"text is longer than 5 characters\");\n      console.log(\"animation 1:\", animation);\n      setTimeout(function () {\n        setAnimation();\n        console.log(\"animation 2:\", animation);\n      }, 200);\n      return text.slice(0, 5);\n    }\n\n    return text;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }, \"Zipcode \\xA0\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"multisearch-container\",\n    ref: searchContainerRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"searchBar-container normal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    ref: inputBoxRef,\n    className: animation,\n    type: \"text\",\n    maxLength: \"6\",\n    height: \"3\",\n    value: zipcode,\n    size: \"10\",\n    onChange: handleOnChange,\n    onFocus: handleFocus,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 15\n    }\n  }), console.log(`savestate is ${save}`), save || save === null ? /*#__PURE__*/React.createElement(\"button\", {\n    className: \"glass-icon glass-grey\",\n    onClick: handleFocus,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 39\n    }\n  }, \"focus\") : /*#__PURE__*/React.createElement(\"button\", {\n    className: \"glass-icon glass-green\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 120\n    }\n  }, \"Submit\")), save || save === null ? null : /*#__PURE__*/React.createElement(\"div\", {\n    option: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 45\n    }\n  }, make_htmlList())));\n}","map":{"version":3,"sources":["/Users/mina/Desktop/tax_calculator/src/components/inputbox/inputbox2.jsx"],"names":["React","useState","useEffect","createRef","DisplayTax","fakeSavedList","rate","name","region","zipCode","NewInputBox","inputBoxRef","searchContainerRef","zipcode","setZipcode","save","setSave","animation","setAnimation","handleOnChange","event","input","currentTarget","value","returnInput","maxFive","onlyNum","handleSubmit","optionClick","make_htmlList","console","log","html","forEach","element","savedButt","push","handleFocus","current","focus","text","lastChar","slice","ascii","charCodeAt","length","setTimeout"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, createRef } from \"react\";\nimport \"./inputbox.css\";\nimport DisplayTax from \"../displaytax.js\";\n/*global chrome*/\n\n//I'm not sure if to use useRef or createRef\n\nconst fakeSavedList = [{rate:0.08, name:\"home\", region:\"Ithaca\",zipCode:\"14850\"}, {rate:0.09, name:\"scl\", region:\"Ithaca2\",zipCode:\"12345\"}]\n\n\nexport default function NewInputBox() {\n\n  const inputBoxRef = React.createRef()\n  const searchContainerRef = React.createRef()\n  const [zipcode, setZipcode] = useState(\"\");\n  const [save, setSave] = useState(false);\n//   useEffect(() => {\n//     chrome.storage.sync.get('currentTax', function(result) {\n//       console.log(\"get dat is called\");\n//         console.log('Value currently is ' + result.currentTax);\n//         console.log(result)\n//         console.log(result.currentTax)\n//         if (result.currentTax!==undefined){\n//           setZipcode(result.currentTax.zip);\n//           setSave(null);\n//         }\n//       });\n//   },[]);\n\n  \n  \n  // useEffect(()=>{\n  //   if (save){\n  //     input = \n\n\n  //   }\n    \n\n  // },[save])\n\n\n  const [animation, setAnimation] = useState();\n\n  const handleOnChange = (event) => {\n    //console.log(\"animation\", animation);\n    const input = event.currentTarget.value;\n    const returnInput = maxFive(input);\n    setZipcode(onlyNum(returnInput));\n  };\n\n  const handleSubmit = (event) => {\n    setSave(true);\n  };\n\n  const optionClick = (event) =>{\n    //change the textbox to match the saved data\n    setSave(true)\n  }\n\n  function make_htmlList(){\n    console.log(\n      \"make html is called\"\n    )\n    let html= [];\n    fakeSavedList.forEach(element => {\n      const savedButt = <button className=\"savedOptions\" data-zip={element.zipCode} data-region={element.region} data-rate={element.rate} onClick={optionClick}><span>{element.name}</span><span>{element.zipCode}</span></button>\n      html.push(savedButt);\n    });\n    return html\n  }\n\n  const handleFocus = (event) => {\n    inputBoxRef.current.focus()\n    setSave(false);\n  };\n\n  /* Extract only numbers out of input box and returns a string of text \n    containing at most 6 numbers\n    Parameter: text is a string\n    Returns a string of only numbers or empty string*/\n  function onlyNum(text) {\n    let lastChar = text.slice(-1);\n    let ascii = lastChar.charCodeAt(0);\n\n    if (48 <= ascii && ascii <= 57) {\n      return text;\n    } else {\n      return text.slice(0, -1);\n    }\n  }\n\n  function maxFive(text) {\n    if (text.length > 5) {\n      setAnimation(\"shake\");\n      console.log(\"text is longer than 5 characters\")\n      console.log(\"animation 1:\", animation);\n      setTimeout(function () {\n        setAnimation();\n        console.log(\"animation 2:\", animation);\n      }, 200);\n      return text.slice(0, 5);\n    }\n    return text;\n  }\n\n  return (\n    \n    \n    <div>\n      <label>Zipcode &#160;</label>\n      <div className = \"multisearch-container\" ref={searchContainerRef}>\n      <div className=\"searchBar-container normal\">\n              <input\n                  ref={inputBoxRef}\n                  className = {animation}\n                  type=\"text\"\n                  maxLength=\"6\"\n                  height = \"3\"\n                  value={zipcode}\n                  size=\"10\"\n                  onChange={handleOnChange}\n                  onFocus={handleFocus}\n                />\n                {console.log(`savestate is ${save}`)} \n                {save|| save===null ? <button className=\"glass-icon glass-grey\" onClick={handleFocus}>focus</button> : <button className=\"glass-icon glass-green\"onClick={handleSubmit}>Submit</button>}\n                </div>\n                {save|| save===null ? null: <div option>{make_htmlList()}</div>}\n\n                </div>\n    \n      \n\n      {/* <button type=\"submit\">Submit</button> */}\n\n      {/* {save|| save===null ? \"\" : <button onClick={handleSubmit}>Submit</button>} */}\n      {/* </form> */}\n      {/* <DisplayTax save={save} zipcode={zipcode}></DisplayTax> */}\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}